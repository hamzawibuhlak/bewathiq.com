# Phase 38: Dynamic Forms System

## Part 1 — Database + Backend Foundation
- [ ] Add Prisma models: [Form](file:///Users/hamzabuhlakq/Downloads/succes-mark/projects-2026/wathiq%20system%20projec/watheeq-mvp/frontend/src/components/clients/ClientForm.tsx#58-442), `FormField`, `FormSubmission`, `FormFieldAnswer`, `FormTemplate`
- [ ] Add [form](file:///Users/hamzabuhlakq/Downloads/succes-mark/projects-2026/wathiq%20system%20projec/watheeq-mvp/frontend/src/components/tasks/TaskCard.tsx#62-68) entity type to `EntityCodeService.generateFlatCode`
- [ ] Create `FormsModule` + `FormsService` + `FormsController`
  - [ ] CRUD endpoints for forms
  - [ ] Public endpoints: `GET /public/forms/:slug` + `POST /public/forms/:slug/submit`
  - [ ] Submissions endpoints: list, view, update status
- [ ] Register module in [AppModule](file:///Users/hamzabuhlakq/Downloads/succes-mark/projects-2026/wathiq%20system%20projec/watheeq-mvp/backend/src/app.module.ts#60-176)

## Part 2 — Frontend: API + Hooks + Routes
- [ ] Create `frontend/src/api/forms.ts` with all API methods
- [ ] Create `frontend/src/hooks/useForms.ts` with React Query hooks
- [ ] Add routes in [App.tsx](file:///Users/hamzabuhlakq/Downloads/succes-mark/projects-2026/wathiq%20system%20projec/watheeq-mvp/frontend/src/App.tsx): forms, forms/new, forms/:id, forms/:id/submissions
- [ ] Add public route: `/f/:slug` for form submission
- [ ] Add sidebar navigation link

## Part 3 — Frontend: Forms List Page
- [ ] Create `FormsListPage.tsx` — list all forms with stats, search, filters

## Part 4 — Frontend: Form Builder
- [ ] Create `FormBuilderPage.tsx` — main builder UI with tabs (Build/Preview/Settings)
- [ ] `FieldTypePicker` component — sidebar with draggable field types
- [ ] `SortableField` component — drag & drop field cards
- [ ] `FieldEditor` sidebar — edit selected field properties
- [ ] `FormPreview` component — live preview tab
- [ ] `FormSettings` component — settings tab

## Part 5 — Frontend: Public Form + Submissions
- [ ] Create `PublicFormPage.tsx` — public form rendering + submission
- [ ] Create `FormSubmissionsPage.tsx` — view submissions for a form
- [ ] `SubmissionDetailsModal` — view single submission details

## Part 6 — Deploy + Verify
- [ ] Deploy to production server
- [ ] Run `prisma db push` / SQL migration
- [ ] Test form creation, submission, and viewing
