# โ ูุธุงู ุงูุตูุงุญูุงุช - ุชู ุงูุชูููุฐ ุจูุฌุงุญ!

## ุงูุชุบููุฑุงุช ุงููููุฐุฉ

### Backend - Controllers ูุญุฏุซุฉ

| Controller | Guard | ุงูุตูุงุญูุงุช |
|------------|-------|-----------|
| [CasesController](file:///Users/hamzabuhlakq/Downloads/succes-mark/projects-2026/wathiq%20system%20projec/watheeq-mvp/backend/src/cases/cases.controller.ts#28-98) | โ RolesGuard | OWNER/ADMIN/LAWYER ููุดุฆ ููุนุฏูุ LAWYER ูุดูู ูุถุงูุงู ููุท |
| [ClientsController](file:///Users/hamzabuhlakq/Downloads/succes-mark/projects-2026/wathiq%20system%20projec/watheeq-mvp/backend/src/clients/clients.controller.ts#29-105) | โ RolesGuard | OWNER/ADMIN ููุดุฆ ููุนุฏู ููุญุฐู |
| [HearingsController](file:///Users/hamzabuhlakq/Downloads/succes-mark/projects-2026/wathiq%20system%20projec/watheeq-mvp/backend/src/hearings/hearings.controller.ts#30-119) | โ RolesGuard | SECRETARY ููุดุฆ ููุนุฏูุ ุงูุญุฐู ูู OWNER/ADMIN |
| [DocumentsController](file:///Users/hamzabuhlakq/Downloads/succes-mark/projects-2026/wathiq%20system%20projec/watheeq-mvp/backend/src/documents/documents.controller.ts#53-178) | โ RolesGuard | LAWYER ูุฑูุนุ ุงูุญุฐู ูู OWNER/ADMIN |
| [InvoicesController](file:///Users/hamzabuhlakq/Downloads/succes-mark/projects-2026/wathiq%20system%20projec/watheeq-mvp/backend/src/invoices/invoices.controller.ts#30-118) | โ RolesGuard | OWNER/ADMIN ููุท ููู ุงูุนูููุงุช |
| [UsersController](file:///Users/hamzabuhlakq/Downloads/succes-mark/projects-2026/wathiq%20system%20projec/watheeq-mvp/backend/src/users/users.controller.ts#30-119) | โ ููุฌูุฏ | OWNER/ADMIN ููุท |

---

### Backend - CasesService ูุญุฏุซ

```diff
// LAWYER ูุดูู ูุถุงูุงู ููุท
+if (userRole === UserRole.LAWYER && userId) {
+    where.assignedToId = userId;
+}
```

---

### Frontend - auth.store.ts ูุญุฏุซ

```typescript
// Permission helpers
canManageUsers: () => role === 'OWNER' || role === 'ADMIN'
canManageInvoices: () => role === 'OWNER' || role === 'ADMIN'
canManageCases: () => role !== 'SECRETARY'
canManageHearings: () => role !== 'LAWYER'
```

---

### Frontend - Can Component ุฌุฏูุฏ

```tsx
<Can perform="create" on="users">
  <Button>ุฅุถุงูุฉ ูุณุชุฎุฏู</Button>
</Can>
```

---

### Frontend - Sidebar ูุญุฏุซ

- โ ุฅุฎูุงุก "ุงูููุงุชูุฑ" ุนู LAWYER/SECRETARY
- โ ุฅุฎูุงุก "ุงููุณุชุฎุฏููู" ุนู LAWYER/SECRETARY
- โ ุนุฑุถ ุดุงุฑุฉ ุงูุฏูุฑ (ูุงููุ ูุฏูุฑุ ูุญุงููุ ุณูุฑุชูุฑ)

---

## ุงุฎุชุจุงุฑ OWNER

![ุงุฎุชุจุงุฑ ุงูุตูุงุญูุงุช](./permissions_test_1769943154029.webp)

**ุงููุชุงุฆุฌ:**
- โ ุชุธูุฑ ูู ุนูุงุตุฑ ุงููุงุฆูุฉ
- โ ุตูุญุฉ ุงูููุงุชูุฑ ุชุนูู
- โ ุตูุญุฉ ุงููุณุชุฎุฏููู ุชุนูู
- โ ุดุงุฑุฉ "ูุงูู ุงูููุชุจ" ุชุธูุฑ

---

## ููุฎุต ุงูุตูุงุญูุงุช ุงูููุงุฆู

| ุงูุนูููุฉ | OWNER | ADMIN | LAWYER | SECRETARY |
|---------|-------|-------|--------|-----------|
| ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู | โ | โ | โ | โ |
| ุฑุคูุฉ ุงูููุงุชูุฑ | โ | โ | โ | โ |
| ุฅูุดุงุก ูุถุงูุง | โ | โ | โ | โ |
| ุฑุคูุฉ ูู ุงููุถุงูุง | โ | โ | ๐ ูุถุงูุงู | ๐๏ธ |
| ุฅูุดุงุก ุฌูุณุงุช | โ | โ | โ | โ |
| ุฑูุน ูุณุชูุฏุงุช | โ | โ | โ | โ |
| ุฅุฏุงุฑุฉ ุงูุนููุงุก | โ | โ | โ | โ |
